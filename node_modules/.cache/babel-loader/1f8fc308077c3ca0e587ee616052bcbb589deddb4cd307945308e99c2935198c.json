{"ast":null,"code":"import _slicedToArray from\"/home/lby005/Desktop/prodj/delt/grapher/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import\"../../styles/Canvas/GraphComponent.css\";import{average,normal}from\"../../tools/Geometry\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Edge=function Edge(props){var _useState=useState({x:0,y:0}),_useState2=_slicedToArray(_useState,2),offset=_useState2[0],setOffset=_useState2[1];var arrow=/*#__PURE__*/_jsx(\"defs\",{children:/*#__PURE__*/_jsx(\"marker\",{id:\"idle\",orient:\"auto\",markerWidth:\"10\",markerHeight:\"4\",refX:20,refY:\"2\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M0,0 V4 L6,2 Z\",fill:\"orange\"})})});/**\n   * offset the edges from the center of the vertex if the graph is directed to make space for two edges between each pair of vertices\n   */useEffect(function(){setOffset(function(prev){return props.directed?normal(props.position,props.position2):{x:0,y:0};});},[props.position,props.position2,props.directed]);return/*#__PURE__*/_jsxs(\"g\",{onMouseDown:function onMouseDown(e){return props.select(e,props.id);},onMouseOver:function onMouseOver(e){return props.setHovered(props.id);},onMouseLeave:function onMouseLeave(e){return props.setHovered(\"\");},children:[arrow,/*#__PURE__*/_jsx(\"line\",{x1:offset.x+props.position.x+'%',y1:offset.y+props.position.y+'%',x2:offset.x+props.position2.x+'%',y2:offset.y+props.position2.y+'%',markerEnd:props.directed?\"url(#idle)\":\"\",strokeDasharray:0,stroke:props.getColor(props.id),strokeWidth:2}),props.weighted&&/*#__PURE__*/_jsx(\"foreignObject\",{textAnchor:\"middle\",style:{backgroundColor:'rgba(0,0,0,0.6)',textAlign:'center',cursor:'default',color:'white',padding:'1px'},width:props.value.length+1+'ch',height:'2.5ch',fontSize:\"1em\",x:'calc('+average(offset.x+props.position.x,offset.x+props.position2.x)+'% - '+(props.value.length+1)/2+'ch)',y:'calc('+average(offset.y+props.position.y,offset.y+props.position2.y)+'% - 1.25ch)',children:props.value})]});};var Vertex=function Vertex(props){return/*#__PURE__*/_jsxs(\"g\",{onMouseDown:function onMouseDown(e){return props.select(e,props.id);},onMouseOver:function onMouseOver(e){return props.setHovered(props.id);},onMouseLeave:function onMouseLeave(e){return props.setHovered(\"\");},children:[/*#__PURE__*/_jsx(\"circle\",{strokeWidth:2,fontSize:\"1em\",r:props.radius+'ch',stroke:props.getColor(props.id),fill:\"black\",cx:props.position.x+'%',cy:props.position.y+'%'}),/*#__PURE__*/_jsx(\"text\",{textAnchor:\"middle\",alignmentBaseline:\"middle\",strokeWidth:2,fill:\"black\",stroke:props.getColor(props.id),cursor:'default',fontWeight:1,fontSize:props.radius/2+'ch',x:props.position.x+'%',y:props.position.y+'%',children:props.value})]});};export default Vertex;","map":{"version":3,"names":["useEffect","useState","average","normal","jsx","_jsx","jsxs","_jsxs","Edge","props","_useState","x","y","_useState2","_slicedToArray","offset","setOffset","arrow","children","id","orient","markerWidth","markerHeight","refX","refY","d","fill","prev","directed","position","position2","onMouseDown","e","select","onMouseOver","setHovered","onMouseLeave","x1","y1","x2","y2","markerEnd","strokeDasharray","stroke","getColor","strokeWidth","weighted","textAnchor","style","backgroundColor","textAlign","cursor","color","padding","width","value","length","height","fontSize","Vertex","r","radius","cx","cy","alignmentBaseline","fontWeight"],"sources":["/home/lby005/Desktop/prodj/delt/grapher/src/components/Canvas/GraphComponent.tsx"],"sourcesContent":["import { MouseEvent, useEffect, useState } from \"react\";\nimport \"../../styles/Canvas/GraphComponent.css\";\nimport { average, normal } from \"../../tools/Geometry\";\n\ninterface IGraphComponent{\n  id : string,\n  position : {x: number, y: number}\n  value : string,\n  setHovered : Function,\n  select : Function,\n  getColor : Function\n}\n\n\ninterface IPropsEdge extends IGraphComponent{\n  position2 : {x: number, y: number}\n  directed : boolean,\n  weighted : boolean\n\n}\n\ninterface IPropsVertex extends IGraphComponent{\n  radius : number,\n}\n\n\n\nexport const Edge = (props: IPropsEdge) => {\n  \n  const [offset, setOffset] = useState<{x:number,y:number}>({x:0,y:0});\n\n  const arrow = <defs>\n                    <marker id='idle' orient=\"auto\" markerWidth='10' markerHeight='4' refX={20} refY='2'>\n                      <path d='M0,0 V4 L6,2 Z' fill={\"orange\"} />\n                    </marker>\n                </defs>\n\n  /**\n   * offset the edges from the center of the vertex if the graph is directed to make space for two edges between each pair of vertices\n   */\n  useEffect(() => {\n    setOffset((prev) => props.directed ? normal(props.position, props.position2) : {x:0,y:0});\n  }, [props.position,props.position2,props.directed])\n\n\n  return (\n    <g \n      onMouseDown={(e: MouseEvent) => props.select(e,props.id)}\n      onMouseOver={(e:MouseEvent) => props.setHovered(props.id)}\n      onMouseLeave={(e: MouseEvent) => props.setHovered(\"\")}>\n      {arrow}\n      <line \n        x1={offset.x + props.position.x + '%'} \n        y1={offset.y + props.position.y + '%'} \n        x2={offset.x + props.position2.x + '%'}\n        y2={offset.y + props.position2.y + '%'} \n        markerEnd ={props.directed ? \"url(#idle)\" : \"\"}\n        strokeDasharray={0}\n        stroke= {props.getColor(props.id)}\n        strokeWidth={2}>\n\n      </line>\n      { props.weighted && <foreignObject \n        textAnchor=\"middle\" \n        style={{\n          backgroundColor: 'rgba(0,0,0,0.6)',\n          textAlign: 'center', \n          cursor: 'default',\n          color: 'white',\n          padding:'1px'}}\n        width={props.value.length + 1 + 'ch'}\n        height={'2.5ch'}\n        fontSize='1em'\n        x={'calc(' + average(offset.x + props.position.x,offset.x + props.position2.x) + '% - ' + (props.value.length + 1)/2 + 'ch)'} \n        y={'calc(' + average(offset.y + props.position.y,offset.y + props.position2.y) + '% - 1.25ch)'}>\n          {props.value}\n      </foreignObject>}\n    </g>\n  );\n};\n\n\nconst Vertex = (props: IPropsVertex) => {\n \n  return (\n    <g\n    onMouseDown={(e: MouseEvent) => props.select(e,props.id)}\n    onMouseOver={(e:MouseEvent) => props.setHovered(props.id)}\n    onMouseLeave={(e: MouseEvent) => props.setHovered(\"\")}>\n      <circle \n        strokeWidth= {2}\n        fontSize='1em'\n        r={props.radius + 'ch'} \n        stroke={props.getColor(props.id)}\n        fill= \"black\"\n        cx={props.position.x + '%'} \n        cy={props.position.y + '%'}>\n          \n      </circle>\n      <text \n        textAnchor=\"middle\"\n        alignmentBaseline=\"middle\"\n        strokeWidth={2}\n        fill=\"black\"\n        stroke={props.getColor(props.id)}\n        cursor={'default'}\n        fontWeight={1}\n        fontSize={props.radius/2 + 'ch'}\n        x={props.position.x + '%'}\n        y={props.position.y + '%'}>\n        {props.value}\n      </text>\n      \n    </g>\n  );\n};\n\nexport default Vertex;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}